/*RELEASE 5.4.0.31 12-03-2014 -TT#1409-MD -stodd - assortment view security wrong */

IF NOT EXISTS(SELECT * FROM SECURITY_FUNCTION_JOIN where FUNC_ID = 852110)
BEGIN 
INSERT INTO SECURITY_FUNCTION_JOIN(FUNC_ID, FUNC_TYPE, FUNC_LEVEL, FUNC_PARENT) VALUES(852110, 2, 3, 852100);   --Global Assortment Review View
--INSERT INTO SECURITY_FUNCTION_JOIN(FUNC_ID, FUNC_TYPE, FUNC_LEVEL, FUNC_PARENT) VALUES(852120, 2, 3, 852100);   --Global Assortment Workspace View
INSERT INTO SECURITY_FUNCTION_JOIN(FUNC_ID, FUNC_TYPE, FUNC_LEVEL, FUNC_PARENT) VALUES(852210, 2, 3, 852200);   --User Assortment Review View
--INSERT INTO SECURITY_FUNCTION_JOIN(FUNC_ID, FUNC_TYPE, FUNC_LEVEL, FUNC_PARENT) VALUES(852220, 2, 3, 852200);   --User Assortment Workspace View
END
GO
--INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852120, 801160);   --Global Assortment Workspace View : Full Control
--INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852120, 801161);   --       : Maintain
--INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852120, 801162);   --       : Delete
--INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852120, 801163);   --       : View
IF NOT EXISTS(SELECT * FROM SECURITY_FUNCTION_JOIN where FUNC_ID = 852110)
BEGIN 
INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852110, 801160);   --Global Assortment Review View : Full Control
INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852110, 801161);   --       : Maintain
INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852110, 801162);   --       : Delete
INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852110, 801163);   --       : View
END
--INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852220, 801160);   --User Assortment Workspace View : Full Control
--INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852220, 801161);   --       : Maintain
--INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852220, 801162);   --       : Delete
--INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852220, 801163);   --       : View
IF NOT EXISTS(SELECT * FROM SECURITY_FUNCTION_JOIN where FUNC_ID = 852210)
BEGIN 
INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852210, 801160);   --User Assortment Review View : Full Control
INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852210, 801161);   --       : Maintain
INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852210, 801162);   --       : Delete
INSERT INTO SECURITY_FUNCTION_ACTIONS(FUNC_ID, ACTION_ID) VALUES(852210, 801163);   --       : View
END
GO