--dv =============================================
--dv Create date: 8/14/2014
--dv Description: Reads a group allocation method from the method rid
--dv =============================================
CREATE PROCEDURE [dbo].[MID_METHOD_GROUP_ALLOCATION_READ]
	@METHOD_RID INT
AS
BEGIN
	SET NOCOUNT ON;

	SELECT
		STORE_GRADE_TIMEFRAME, 
		EXCEED_MAX_IND, 
		PERCENT_NEED_LIMIT, 
		RESERVE, 
		PERCENT_IND,
		MERCH_HN_RID, 
		MERCH_PH_RID, 
		MERCH_PHL_SEQUENCE,
		ON_HAND_HN_RID, 
		ON_HAND_PH_RID, 
		ON_HAND_PHL_SEQUENCE,
		ON_HAND_FACTOR,
		SG_RID,
		MERCH_UNSPECIFIED, 
		ON_HAND_UNSPECIFIED,
		COALESCE(RESERVE_AS_BULK,0) as RESERVE_AS_BULK, 
		COALESCE(RESERVE_AS_PACKS,0) as RESERVE_AS_PACKS,
		STORE_GRADES_SG_RID,
		COALESCE(INVENTORY_IND,'A') as INVENTORY_IND,
		IB_MERCH_HN_RID, 
		IB_MERCH_PH_RID, 
		IB_MERCH_PHL_SEQUENCE,
		BEGIN_CDR_RID, 
		SHIP_TO_CDR_RID, 
		LINE_ITEM_MIN_OVERRIDE_IND, 
		LINE_ITEM_MIN_OVERRIDE,
		COALESCE(HDRINVENTORY_IND,'A') as HDRINVENTORY_IND,
		HDRIB_MERCH_HN_RID, 
		HDRIB_MERCH_PH_RID, 
		HDRIB_MERCH_PHL_SEQUENCE
	FROM METHOD_GROUP_ALLOCATION 
	WHERE METHOD_RID = @METHOD_RID

END
GO