CREATE PROCEDURE [dbo].[SP_MID_JOB_INSERT] 
	(
	--Begin TT#1430 - JScott - Long Tasklist Name causes duplicate key on JOB table
	--	@JOB_NAME VARCHAR(50),
	@JOB_NAME VARCHAR(100),
	--End TT#1430 - JScott - Long Tasklist Name causes duplicate key on JOB table
	@SYSTEM_GENERATED_IND CHAR,
	@CREATED_BY_USER_RID INT,
	@CREATED_DATETIME DATETIME,
	@LAST_MODIFIED_BY_USER_RID INT,
	@LAST_MODIFIED_DATETIME DATETIME,
	@JOB_RID INT OUTPUT
	)
AS
BEGIN
	SET NOCOUNT ON

	INSERT INTO JOB (
		JOB_NAME,
		SYSTEM_GENERATED_IND,
		CREATED_BY_USER_RID,
		CREATED_DATETIME
		)
	VALUES (
		@JOB_NAME,
		@SYSTEM_GENERATED_IND,
		@CREATED_BY_USER_RID,
		@CREATED_DATETIME
		)

	SELECT @JOB_RID = SCOPE_IDENTITY() -- TT#3256 - JSmith - Replace @@IDENTITY with SCOPE_IDENTITY()
END
GO


