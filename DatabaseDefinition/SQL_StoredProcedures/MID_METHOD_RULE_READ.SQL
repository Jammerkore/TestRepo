--dv =============================================
--dv Create date:	2/14/2014
--dv Description:	Reads rules for the method
--dv =============================================
CREATE PROCEDURE [dbo].[MID_METHOD_RULE_READ]
	@METHOD_RID int
AS
BEGIN
	SET NOCOUNT ON;

	DECLARE @NoRid INT = -1;
	DECLARE @eSortDirection_Descending INT = 800711;
	DECLARE @eComponentType_Total INT = 800750;
	DECLARE @eRuleMethod_None INT = 802400;

	SELECT
		COALESCE(STORE_FILTER_RID, @NoRid) STORE_FILTER_RID,
		COALESCE(HDR_RID, @NoRid) HDR_RID,
		COALESCE(STORE_ORDER, @eSortDirection_Descending) STORE_ORDER, 
		COALESCE(HEADER_COMPONENT, @eComponentType_Total) HEADER_COMPONENT,
		COALESCE(HDR_PACK_RID, @NoRid) HDR_PACK_RID,
        COALESCE(HDR_BC_RID, @NoRid) HDR_BC_RID,
		COALESCE(INCLUDED_STORES, @eRuleMethod_None) INCLUDED_STORES,
		COALESCE(INCLUDED_QUANTITY, 0) INCLUDED_QUANTITY,
		COALESCE(EXCLUDED_STORES, @eRuleMethod_None) EXCLUDED_STORES,
		COALESCE(EXCLUDED_QUANTITY, 0) EXCLUDED_QUANTITY, 
		COALESCE(SGL_RID, @NoRid) SGL_RID, 
		COALESCE(IS_HEADER_MASTER, '0') IS_HEADER_MASTER, 
		COALESCE(INCLUDE_RESERVE_IND, '0') INCLUDE_RESERVE_IND 
	FROM METHOD_RULE WHERE METHOD_RID = @METHOD_RID

END
GO