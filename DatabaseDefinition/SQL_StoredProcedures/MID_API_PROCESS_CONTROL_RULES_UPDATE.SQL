--dv =============================================
--dv Create date:	03/27/2015
--dv Description:	Reads the API Process Control Table for a specific API Process
--dv =============================================
CREATE PROCEDURE [dbo].[MID_API_PROCESS_CONTROL_RULES_UPDATE]
	@API_ID int,
	@PROCESS_MUST_BE_RUNNING_IND char,
	@PROCESS_CANNOT_BE_RUNNING_IND char,
	@PROCESS_ID int,
	@LAST_MODIFIED_DATETIME datetime,
	@LAST_MODIFIED_BY varchar(250) 
AS
BEGIN
	SET NOCOUNT ON;

	UPDATE API_PROCESS_CONTROL_RULES WITH (ROWLOCK) 
	SET 
		PROCESS_MUST_BE_RUNNING_IND = @PROCESS_MUST_BE_RUNNING_IND, 
		PROCESS_CANNOT_BE_RUNNING_IND = @PROCESS_CANNOT_BE_RUNNING_IND,
		LAST_MODIFIED_DATETIME = @LAST_MODIFIED_DATETIME,
		LAST_MODIFIED_BY = @LAST_MODIFIED_BY
	WHERE API_ID = @API_ID
	  AND PROCESS_ID = @PROCESS_ID

	SELECT @@ROWCOUNT;

END
GO

