--dv =============================================
--dv Create date:	10/16/2013
--dv Description:	Gets detail size curve data for the header
--dv =============================================
CREATE PROCEDURE [dbo].[MID_HEADER_SIZE_NEED_READ]
	@HDR_RID int
AS
BEGIN
	SET NOCOUNT ON;

	DECLARE @MerchandiseType_Undefined int = 3;
	DECLARE @VSWSizeConstraints_None int = 802370;

	SELECT 
		HDR_RID, 
		COALESCE(SIZE_CURVE_GROUP_RID, -1) AS SIZE_CURVE_GROUP_RID, MERCH_TYPE,
        COALESCE(HN_RID, -1) AS HN_RID, 
		COALESCE(PH_RID, -1) AS PH_RID, 
		COALESCE(PHL_SEQUENCE, 0) AS PHL_SEQUENCE,
        COALESCE(SIZE_CONSTRAINT_RID, -1) AS SIZE_CONSTRAINT_RID, 
		COALESCE(SIZE_ALTERNATE_RID, -1) AS SIZE_ALTERNATE_RID,
        COALESCE(NORMALIZE_SIZE_CURVES_IND, 1) AS NORMALIZE_SIZE_CURVES_IND, 
        COALESCE(IB_MERCH_TYPE, @MerchandiseType_Undefined) AS IB_MERCH_TYPE,
        COALESCE(IB_MERCH_HN_RID, -1) AS IB_MERCH_HN_RID,
        COALESCE(IB_MERCH_PH_RID, -1) AS IB_MERCH_PH_RID,
        COALESCE(IB_MERCH_PHL_SEQUENCE, 0) AS IB_MERCH_PHL_SEQUENCE,
        COALESCE(VSW_SIZE_CONSTRAINTS, @VSWSizeConstraints_None) AS VSW_SIZE_CONSTRAINTS
	FROM HEADER_SIZE_NEED
    WHERE HDR_RID = @HDR_RID

END
GO
