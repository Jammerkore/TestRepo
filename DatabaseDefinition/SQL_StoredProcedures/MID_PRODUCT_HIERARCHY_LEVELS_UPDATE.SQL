--dv =============================================
--dv Create date:	10/21/2013
--dv Description:	Updates a row on the product hierarchy levels table
--dv =============================================
CREATE PROCEDURE [dbo].[MID_PRODUCT_HIERARCHY_LEVELS_UPDATE]
	@PH_RID int,
	@PHL_SEQUENCE int,
	@PHL_ID varchar(50),
	@PHL_COLOR varchar(30),
	@PHL_TYPE int,
	@LENGTH_TYPE int,
	@REQUIRED_SIZE int,
	@SIZE_RANGE_FROM int,
	@SIZE_RANGE_TO int,
	@OTS_PLANLEVEL_TYPE int,
	@PHL_DISPLAY_OPTION_ID int,
	@PHL_ID_FORMAT int,
	@PURGE_DAILY_HISTORY_TIMEFRAME int,
	@PURGE_DAILY_HISTORY int,
	@PURGE_WEEKLY_HISTORY_TIMEFRAME int,
	@PURGE_WEEKLY_HISTORY int,
	@PURGE_PLANS_TIMEFRAME int,
	@PURGE_PLANS int
AS
BEGIN
	SET NOCOUNT ON;

	UPDATE PRODUCT_HIERARCHY_LEVELS WITH (ROWLOCK) 
	SET 
		PHL_ID = @PHL_ID,
		PHL_COLOR = @PHL_COLOR,
		PHL_TYPE = @PHL_TYPE,
		LENGTH_TYPE = @LENGTH_TYPE,
		REQUIRED_SIZE = @REQUIRED_SIZE,
		SIZE_RANGE_FROM = @SIZE_RANGE_FROM,
		SIZE_RANGE_TO = @SIZE_RANGE_TO,
		OTS_PLANLEVEL_TYPE = @OTS_PLANLEVEL_TYPE,
		PHL_DISPLAY_OPTION_ID = @PHL_DISPLAY_OPTION_ID,
		PHL_ID_FORMAT = @PHL_ID_FORMAT,
		PURGE_DAILY_HISTORY_TIMEFRAME = @PURGE_DAILY_HISTORY_TIMEFRAME,
		PURGE_DAILY_HISTORY = @PURGE_DAILY_HISTORY,
		PURGE_WEEKLY_HISTORY_TIMEFRAME = @PURGE_WEEKLY_HISTORY_TIMEFRAME,
		PURGE_WEEKLY_HISTORY = @PURGE_WEEKLY_HISTORY,
		PURGE_PLANS_TIMEFRAME = @PURGE_PLANS_TIMEFRAME,
		PURGE_PLANS = @PURGE_PLANS
	WHERE PH_RID = @PH_RID
		  AND PHL_SEQUENCE = @PHL_SEQUENCE

	SELECT @@ROWCOUNT;

END
GO
