CREATE PROCEDURE [dbo].[SP_MID_AUDIT_FORECAST_DELETE] 
	@AUDIT_FORECAST_RID INT,
	@RETURN_ROWCOUNT BIT = 1
AS
BEGIN
	DELETE AUDIT_OTS_FORECAST_SET_BASIS
	WITH (ROWLOCK)
	WHERE AUDIT_FORECAST_RID = @AUDIT_FORECAST_RID

	DELETE AUDIT_OTS_FORECAST_SET
	WITH (ROWLOCK)
	WHERE AUDIT_FORECAST_RID = @AUDIT_FORECAST_RID

	DELETE AUDIT_MODIFY_SALES_MATRIX
	WITH (ROWLOCK)
	WHERE AUDIT_FORECAST_RID = @AUDIT_FORECAST_RID

	DELETE AUDIT_MODIFY_SALES
	WITH (ROWLOCK)
	WHERE AUDIT_FORECAST_RID = @AUDIT_FORECAST_RID

	DELETE AUDIT_FORECAST
	WITH (ROWLOCK)
	WHERE AUDIT_FORECAST_RID = @AUDIT_FORECAST_RID

	IF @RETURN_ROWCOUNT = 1 SELECT @@ROWCOUNT;
END
GO


