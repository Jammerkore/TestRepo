CREATE PROCEDURE [dbo].[SP_MID_HDRPACKCOLOR_DELETE] 
	@PACK_RID INT,
	@COLOR_RID INT
AS
BEGIN
	DELETE HEADER_PACK_COLOR_SIZE
	WITH (ROWLOCK)
	WHERE HDR_PC_RID IN (
			SELECT HDR_PC_RID
			FROM HEADER_PACK_COLOR
			WHERE HDR_PACK_RID = @PACK_RID
				AND COLOR_CODE_RID = @COLOR_RID
			)

	DELETE HEADER_PACK_COLOR
	WITH (ROWLOCK)
	WHERE HDR_PACK_RID = @PACK_RID
		AND COLOR_CODE_RID = @COLOR_RID

	SELECT @@ROWCOUNT;
END
GO


