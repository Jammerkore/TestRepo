CREATE PROCEDURE [dbo].[SP_MID_HIERNODE_BASE_INSERT] 
	@PH_RID INT,
	@PARENT_RID INT,
	@HOME_PH_RID INT,
	@HOME_LEVEL INT,
	@HN_TYPE INT,
	@OTS_PLANLEVEL_TYPE INT,
	@USE_BASIC_REPLENISHMENT CHAR,
	@OTS_FORECAST_LEVEL_SELECT_TYPE INT,
	@OTS_FORECAST_LEVEL_TYPE INT,
	@OTS_FORECAST_LEVEL_PH_RID INT,
	@OTS_FORECAST_LEVEL_PHL_SEQUENCE INT,
	@OTS_FORECAST_LEVEL_ANCHOR_NODE INT,
	@OTS_FORECAST_LEVEL_MASK_FIELD INT,
	@OTS_FORECAST_LEVEL_MASK VARCHAR(50),
	@VIRTUAL_IND CHAR,
	@PURPOSE INT,
	@NODE_ID VARCHAR(50),
	@NODE_NAME VARCHAR(50),
	@NODE_DESCRIPTION VARCHAR(250),
	@PRODUCT_TYPE INT,
	@DIGITAL_ASSET_KEY INT,
	@HN_RID INT OUTPUT
AS
BEGIN
	SET NOCOUNT ON

	EXEC [dbo].[SP_MID_HIERNODE_INSERT] @PH_RID,
		@PARENT_RID,
		@HOME_PH_RID,
		@HOME_LEVEL,
		@HN_TYPE,
		@OTS_PLANLEVEL_TYPE,
		@USE_BASIC_REPLENISHMENT,
		@OTS_FORECAST_LEVEL_SELECT_TYPE,
		@OTS_FORECAST_LEVEL_TYPE,
		@OTS_FORECAST_LEVEL_PH_RID,
		@OTS_FORECAST_LEVEL_PHL_SEQUENCE,
		@OTS_FORECAST_LEVEL_ANCHOR_NODE,
		@OTS_FORECAST_LEVEL_MASK_FIELD,
		@OTS_FORECAST_LEVEL_MASK,
		@VIRTUAL_IND,
		@PURPOSE,
		@DIGITAL_ASSET_KEY,
		@HN_RID OUTPUT

	INSERT INTO BASE_NODE (
		HN_RID,
		BN_ID,
		BN_NAME,
		BN_DESCRIPTION,
		BN_PRODUCT_TYPE
		)
	VALUES (
		@HN_RID,
		@NODE_ID,
		@NODE_NAME,
		@NODE_DESCRIPTION,
		@PRODUCT_TYPE
		)
	SELECT @@ROWCOUNT
END
GO


