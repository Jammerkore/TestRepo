--dv =============================================
--dv Create date:	11/21/2013
--dv Description:	Updates a row on the audit filter table based on user
--dv =============================================
CREATE PROCEDURE [dbo].[MID_AUDIT_FILTER_UPDATE] 
	@USER_RID int,
	@RUN_DATE_TYPE int,
	@RUN_DATE_BETWEEN_FROM int, 
	@RUN_DATE_BETWEEN_TO int, 
	@RUN_DATE_FROM datetime, 
	@RUN_DATE_TO datetime,
	@PROCESS_HIGHEST_MESSAGE_LEVEL int,
	@DETAIL_HIGHEST_MESSAGE_LEVEL int,
	@DURATION int,
	@SHOW_RUNNING char(1), 
	@SHOW_COMPLETED char(1), 
	@SHOW_MY_TASKS_ONLY char(1)
AS
BEGIN
	SET NOCOUNT ON;

	UPDATE AUDIT_FILTER 
	SET
		RUN_DATE_TYPE=@RUN_DATE_TYPE,
		RUN_DATE_BETWEEN_FROM=@RUN_DATE_BETWEEN_FROM,
		RUN_DATE_BETWEEN_TO=@RUN_DATE_BETWEEN_TO,
		RUN_DATE_FROM=@RUN_DATE_FROM,
		RUN_DATE_TO=@RUN_DATE_TO,
		PROCESS_HIGHEST_MESSAGE_LEVEL=@PROCESS_HIGHEST_MESSAGE_LEVEL,
		DETAIL_HIGHEST_MESSAGE_LEVEL=@DETAIL_HIGHEST_MESSAGE_LEVEL,
		DURATION=@DURATION,
		SHOW_RUNNING=@SHOW_RUNNING,
		SHOW_COMPLETED=@SHOW_COMPLETED,
		SHOW_MY_TASKS_ONLY=@SHOW_MY_TASKS_ONLY
	WHERE USER_RID = @USER_RID

	SELECT @@ROWCOUNT;
END
GO