--dv =============================================
--dv Create date:	10/25/2013
--dv Description:	Updates a row on the store eligibility table
--dv =============================================
CREATE PROCEDURE [dbo].[MID_STORE_ELIGIBILITY_UPDATE]
	@HN_RID int, 
	@ST_RID int, 
	@EM_RID int, 
	@USE_ELIGIBILITY char, 
	@INELIGIBLE char,
	@STKMOD_TYPE int, 
	@STKMOD_RID int, 
	@STKMOD_PCT float, 
	@SLSMOD_TYPE int, 
	@SLSMOD_RID int, 
	@SLSMOD_PCT float,
	@FWOSMOD_TYPE int, 
	@FWOSMOD_RID int, 
	@FWOSMOD_PCT float,
	@SIMILAR_STORE_TYPE int, 
	@SIMILAR_STORE_RATIO float, 
	@UNTIL_DATE int, 
	@PRESENTATION_PLUS_SALES_IND char,
	@STOCK_LEAD_WEEKS int
AS
BEGIN
	SET NOCOUNT ON;

	UPDATE STORE_ELIGIBILITY WITH (ROWLOCK) 
	SET 
		INELIGIBLE = @INELIGIBLE,
		STKMOD_TYPE = @STKMOD_TYPE,
		USE_ELIGIBILITY = @USE_ELIGIBILITY,
		EM_RID = @EM_RID,
		STKMOD_RID = @STKMOD_RID,
		STKMOD_PCT = @STKMOD_PCT,
		SLSMOD_TYPE = @SLSMOD_TYPE,
		SLSMOD_RID = @SLSMOD_RID,
		SLSMOD_PCT = @SLSMOD_PCT,
		FWOSMOD_TYPE = @FWOSMOD_TYPE,
		FWOSMOD_RID = @FWOSMOD_RID,
		FWOSMOD_PCT = @FWOSMOD_PCT,
		SIMILAR_STORE_TYPE = @SIMILAR_STORE_TYPE,
		SIMILAR_STORE_RATIO = @SIMILAR_STORE_RATIO,
		UNTIL_DATE = @UNTIL_DATE,
		PRESENTATION_PLUS_SALES_IND = @PRESENTATION_PLUS_SALES_IND,
		STOCK_LEAD_WEEKS = @STOCK_LEAD_WEEKS
	WHERE HN_RID = @HN_RID
		  AND ST_RID = @ST_RID

	SELECT @@ROWCOUNT;

END
GO
