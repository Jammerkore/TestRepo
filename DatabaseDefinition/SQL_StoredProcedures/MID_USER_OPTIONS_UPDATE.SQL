--dv =============================================
--dv Create date: 2/3/2014
--dv Description: Updates the user option table
--dv History: 12/17/2014 TT#4243-Add SHOW_SIGNOFF_PROMPT
--dv =============================================
CREATE PROCEDURE [dbo].[MID_USER_OPTIONS_UPDATE]
	@USER_RID int,
	@MY_HIERARCHY varchar(250),
	@MY_HIERARCHY_COLOR varchar(30),
	@FORECAST_MONITOR_ACTIVE char,
	@FORECAST_MONITOR_DIRECTORY varchar(250),
	@MODIFY_SALES_MONITOR_ACTIVE char,
	@MODIFY_SALES_MONITOR_DIRECTORY varchar(250),
	@AUDIT_LOGGING_LEVEL int,
	@SHOW_LOGIN char,
	@SHOW_SIGNOFF_PROMPT char,
	@DCFULFILLMENT_MONITOR_ACTIVE char,
	@DCFULFILLMENT_MONITOR_DIRECTORY varchar(250)
AS
BEGIN
	SET NOCOUNT ON;

	UPDATE USER_OPTIONS 
	SET
		MY_HIERARCHY = @MY_HIERARCHY,
		MY_HIERARCHY_COLOR = @MY_HIERARCHY_COLOR,
		FORECAST_MONITOR_ACTIVE = @FORECAST_MONITOR_ACTIVE,
		FORECAST_MONITOR_DIRECTORY = @FORECAST_MONITOR_DIRECTORY,
		MODIFY_SALES_MONITOR_ACTIVE = @MODIFY_SALES_MONITOR_ACTIVE,
		MODIFY_SALES_MONITOR_DIRECTORY = @MODIFY_SALES_MONITOR_DIRECTORY,
		AUDIT_LOGGING_LEVEL = @AUDIT_LOGGING_LEVEL,
		SHOW_LOGIN = @SHOW_LOGIN,
		SHOW_SIGNOFF_PROMPT = @SHOW_SIGNOFF_PROMPT,
		DCFULFILLMENT_MONITOR_ACTIVE = @DCFULFILLMENT_MONITOR_ACTIVE,
		DCFULFILLMENT_MONITOR_DIRECTORY = @DCFULFILLMENT_MONITOR_DIRECTORY 
	WHERE USER_RID = @USER_RID

	SELECT @@ROWCOUNT
END
GO
