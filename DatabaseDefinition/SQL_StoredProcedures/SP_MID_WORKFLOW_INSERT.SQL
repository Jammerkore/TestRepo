CREATE PROCEDURE [dbo].[SP_MID_WORKFLOW_INSERT] 
	(
	@WORKFLOW_NAME VARCHAR(50),
	@WORKFLOW_TYPE_ID INT,
	@WORKFLOW_USER_RID INT,
	@WORKFLOW_DESCRIPTION VARCHAR(250),
	@STORE_FILTER_RID INT,
	@WORKFLOW_OVERRIDE CHAR,
	@WORKFLOW_RID INT OUTPUT
	)
AS
BEGIN
	SET NOCOUNT ON

	INSERT INTO WORKFLOW (
		WORKFLOW_NAME,
		WORKFLOW_TYPE_ID,
		WORKFLOW_USER_RID,
		WORKFLOW_DESCRIPTION,
		STORE_FILTER_RID,
		WORKFLOW_OVERRIDE
		)
	VALUES (
		@WORKFLOW_NAME,
		@WORKFLOW_TYPE_ID,
		@WORKFLOW_USER_RID,
		@WORKFLOW_DESCRIPTION,
		@STORE_FILTER_RID,
		@WORKFLOW_OVERRIDE
		);

	SELECT @WORKFLOW_RID = SCOPE_IDENTITY() -- TT#3256 - JSmith - Replace @@IDENTITY with SCOPE_IDENTITY()
END;
GO


