--dv =============================================
--dv Create date:	12/02/2013
--dv Description:	Reads build pack combos for the given method
--dv =============================================
CREATE PROCEDURE [dbo].[MID_METHOD_BLD_PACKS_COMBO_READ]
	@METHOD_RID int
AS
BEGIN
	SET NOCOUNT ON;

	SELECT 
		c.METHOD_RID as METHOD_RID, 
		c.COMBO_RID as COMBO_RID, 
		c.COMBO_NAME as COMBO_NAME, 
		c.COMBO_SELECTED_IND as COMBO_SELECTED_IND,
		COALESCE(cp.PATTERN_PACK_RID, -1) PATTERN_PACK_RID, 
		cp.PATTERN_NAME as PATTERN_NAME, 
		COALESCE(cp.PATTERN_PACK_MULT,1) PATTERN_PACK_MULT, 
		COALESCE(cp.COMBO_MAX_PATTERN_PACKS,0) COMBO_MAX_PATTERN_PACKS,
		COALESCE(cps.SIZE_CODE_RID, -1) SIZE_CODE_RID, 
		COALESCE(cps.PATTERN_SIZE_UNITS,0) PATTERN_SIZE_UNITS
	FROM METHOD_BLD_PACKS_COMBO c
		 INNER JOIN METHOD_BLD_PACKS_COMBO_PATTERN cp ON c.COMBO_RID = cp.COMBO_RID
		 LEFT OUTER JOIN METHOD_BLD_PACKS_COMBO_PATTERN_SZRUN cps ON cp.PATTERN_PACK_RID = cps.PATTERN_PACK_RID
	WHERE c.METHOD_RID = @METHOD_RID

END
GO