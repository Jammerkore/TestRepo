--dv =============================================
--dv Create date:	10/18/2013
--dv Description:	Updates a row in the master header table
--dv =============================================
CREATE PROCEDURE [dbo].[MID_MASTER_HEADER_UPDATE] 
	@SUBORD_HDR_RID int,
	@MASTER_HDR_RID int,
	@MASTER_COMPONENT int,
	@MASTER_PACK_RID int,
	@MASTER_BC_RID int,
	@SUBORD_COMPONENT int,
	@SUBORD_PACK_RID int,
	@SUBORD_BC_RID int
AS
BEGIN
	SET NOCOUNT ON;
	
	UPDATE MASTER_HEADER WITH (ROWLOCK) 
    SET 
		MASTER_HDR_RID = @MASTER_HDR_RID,
        MASTER_COMPONENT = @MASTER_COMPONENT,
        MASTER_PACK_RID = @MASTER_PACK_RID, 
        MASTER_BC_RID = @MASTER_BC_RID, 
        SUBORD_COMPONENT = @SUBORD_COMPONENT, 
        SUBORD_PACK_RID = @SUBORD_PACK_RID, 
        SUBORD_BC_RID = @SUBORD_BC_RID 
    WHERE SUBORD_HDR_RID = @SUBORD_HDR_RID
		  AND MASTER_HDR_RID = @MASTER_HDR_RID
          AND MASTER_PACK_RID = @MASTER_PACK_RID
          AND SUBORD_PACK_RID = @SUBORD_PACK_RID

	SELECT @@ROWCOUNT;

END
GO
