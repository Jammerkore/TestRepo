CREATE PROCEDURE [dbo].[SP_MID_HDRPACK_ALLOCATION_DELETE] 
	@PACK_RID INT
AS
BEGIN
	SET NOCOUNT ON;

	DELETE ASSORTMENT_MATRIX_DETAIL
	WITH (ROWLOCK)
	WHERE HDR_PACK_RID = @PACK_RID

	DELETE PACK_ALLOCATION
	WITH (ROWLOCK)
	WHERE HDR_PACK_RID = @PACK_RID

	DELETE PACK_RULE
	WITH (ROWLOCK)
	WHERE HDR_PACK_RID = @PACK_RID

	DELETE PACK_RULE_LAYER
	WITH (ROWLOCK)
	WHERE HDR_PACK_RID = @PACK_RID

	SELECT @@ROWCOUNT;
END
GO


