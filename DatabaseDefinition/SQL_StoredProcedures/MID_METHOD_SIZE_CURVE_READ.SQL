--dv =============================================
--dv Create date:	2/14/2014
--dv Description:	Returns Method Size Curve
--dv History:		6/24/2014 -TT#1235 -jsobek -Size Curve Null Reference Exception (Object Reference)
--dv =============================================
CREATE PROCEDURE [dbo].[MID_METHOD_SIZE_CURVE_READ]
	@METHOD_RID int,
	@INDEX_UNITS_TYPE int

AS
BEGIN
	SET NOCOUNT ON;

	SELECT 
		COALESCE(SIZE_GROUP_RID, -1) SIZE_GROUP_RID,
		COALESCE(SIZE_CURVES_BY_TYPE, 0) SIZE_CURVES_BY_TYPE,
		COALESCE(SIZE_CURVES_BY_SG_RID, -1) SIZE_CURVES_BY_SG_RID,
		COALESCE(MERCH_BASIS_EQUAL_WEIGHT_IND, 0) MERCH_BASIS_EQUAL_WEIGHT_IND,
		COALESCE(CURVE_BASIS_EQUAL_WEIGHT_IND, 0) CURVE_BASIS_EQUAL_WEIGHT_IND,
		COALESCE(APPLY_LOST_SALES_IND, 0) APPLY_LOST_SALES_IND,
		COALESCE(MINIMUM_AVERAGE, 0) MINIMUM_AVERAGE,
		COALESCE(SALES_TOLERANCE, 0) SALES_TOLERANCE,
		COALESCE(INDEX_UNITS_TYPE, @INDEX_UNITS_TYPE) INDEX_UNITS_TYPE,
		COALESCE(MIN_TOLERANCE, 0) MIN_TOLERANCE,
		COALESCE(APPLY_MIN_TO_ZERO_TOLERANCE_IND, 0) APPLY_MIN_TO_ZERO_TOLERANCE_IND,
		COALESCE(MAX_TOLERANCE, 0) MAX_TOLERANCE
    FROM METHOD_SIZE_CURVE 
	WHERE METHOD_RID = @METHOD_RID

END
GO